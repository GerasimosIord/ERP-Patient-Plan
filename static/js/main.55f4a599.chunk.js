(this["webpackJsonperp-plan-app"]=this["webpackJsonperp-plan-app"]||[]).push([[0],{369:function(e,t,a){e.exports=a(602)},377:function(e,t,a){},602:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(327),o=a.n(i),l=(a(377),a(74)),s=a(10),c=a(690),m=a(691),u=a(615),p=a(672),d=a(343),g=a(670),y=a(667),h=a(673),v=a(680),E=a(681),x=a(682),f=a(675),b=a(683),L=a(329),w=a.n(L);var S=function(e){let{erpPlan:t}=e;return r.a.createElement("div",{className:"card"},r.a.createElement(u.a,{variant:"h4",gutterBottom:!0},"Exposure Hierarchy"),t&&t.categories.map((e,t)=>r.a.createElement(h.a,{key:t},r.a.createElement(v.a,{expandIcon:r.a.createElement(w.a,null),"aria-label":`Expand ${e.name} category`},r.a.createElement(u.a,null,e.name)),r.a.createElement(E.a,null,r.a.createElement(x.a,null,e.exposures.map((e,a)=>r.a.createElement(f.a,{button:!0,component:l.b,to:`/session/${t}/${a}`,key:a,"aria-label":"Start exposure: "+e.description},r.a.createElement(b.a,{primary:e.description,secondary:"Anxiety Level: "+e.anxietyLevel}))))))))},k=a(678),P=a(677),A=a(684),C=a(676),D=a(668);var I=function(e){var t;let{erpPlan:a,saveErpPlan:i}=e;const{categoryId:o,exposureId:l}=Object(s.q)(),c=Object(s.o)(),[m,p]=Object(n.useState)(0),[d,g]=Object(n.useState)(!1),[y,h]=Object(n.useState)(""),[v,E]=Object(n.useState)(""),[x,f]=Object(n.useState)(""),[b,L]=Object(n.useState)(""),w=null===a||void 0===a||null===(t=a.categories[o])||void 0===t?void 0:t.exposures[l];Object(n.useEffect)(()=>{let e;return d&&(e=setInterval(()=>{p(e=>e+1)},1e3)),()=>clearInterval(e)},[d]);const S=e=>{const t=parseInt(e);return isNaN(t)||t<0||t>10?(f("Anxiety level must be between 0 and 10"),!1):(f(""),!0)},I=e=>t=>{const a=t.target.value;e(a),S(a)};return w?r.a.createElement(k.a,{className:"card",pb:4},r.a.createElement(u.a,{variant:"h5",gutterBottom:!0},w.description),r.a.createElement(u.a,{variant:"subtitle2",gutterBottom:!0},"Anxiety Level: ",w.anxietyLevel),r.a.createElement(P.a,{elevation:3,sx:{p:2,my:2}},r.a.createElement(k.a,{display:"flex",justifyContent:"center",alignItems:"center",position:"relative",mb:2},r.a.createElement(A.a,{variant:"determinate",value:m%60/60*100,size:100,thickness:4}),r.a.createElement(u.a,{variant:"h5",style:{position:"absolute"}},Math.floor(m/60),":",(m%60).toString().padStart(2,"0"))),r.a.createElement(C.a,{variant:"contained",color:d?"secondary":"primary",onClick:()=>{g(!d)},fullWidth:!0},d?"Stop":"Start")),r.a.createElement(D.a,{label:"Initial Anxiety (0-10)",type:"number",value:y,onChange:I(h),error:!!x,helperText:x,fullWidth:!0,margin:"normal",inputProps:{min:0,max:10}}),r.a.createElement(D.a,{label:"Final Anxiety (0-10)",type:"number",value:v,onChange:I(E),error:!!x,helperText:x,fullWidth:!0,margin:"normal",inputProps:{min:0,max:10}}),r.a.createElement(D.a,{label:"Notes",multiline:!0,rows:3,value:b,onChange:e=>L(e.target.value),fullWidth:!0,margin:"normal"}),r.a.createElement(C.a,{variant:"contained",color:"primary",onClick:()=>{if(S(y)&&S(v)){const e={date:(new Date).toISOString(),categoryName:a.categories[o].name,exposureDescription:w.description,duration:m,initialAnxiety:parseInt(y),finalAnxiety:parseInt(v),notes:b},t={...a,progressLogs:[...a.progressLogs,e]};i(t),c("/")}else f("Please enter valid anxiety levels (0-10) before completing the session.")},fullWidth:!0,size:"large",sx:{mt:2}},"Complete Session")):r.a.createElement(u.a,{variant:"body1"},"Exposure not found")},O=a(664),j=a(669),N=a(665),T=a(341),R=a(342),W=a(77),$=a(124),F=a(340),B=a(330);var J=function(e){let{erpPlan:t}=e;const a=e=>new Date(e).toISOString().split("T")[0],n=[["Date","Category","Exposure","Initial Anxiety","Final Anxiety","Duration (minutes)","Notes"],...t.progressLogs.map(e=>[a(e.date),e.categoryName,e.exposureDescription,e.initialAnxiety,e.finalAnxiety,Math.round(e.duration/60),e.notes])],i=`ERP_Progress_Data_${a(new Date)}.csv`;return r.a.createElement(k.a,{className:"card"},r.a.createElement(u.a,{variant:"h5",gutterBottom:!0},"Export Progress Data"),r.a.createElement(u.a,{variant:"body1",paragraph:!0},"Export your ERP progress data for clinical interpretation or personal record-keeping."),r.a.createElement(B.CSVLink,{data:n,filename:i,className:"button-primary",style:{textDecoration:"none"}},r.a.createElement(C.a,{variant:"contained",color:"primary"},"Download CSV")))};var M=function(e){let{erpPlan:t}=e;const a=e=>new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}),n=null===t||void 0===t?void 0:t.progressLogs.map(e=>({date:a(e.date),initialAnxiety:e.initialAnxiety,finalAnxiety:e.finalAnxiety}));return r.a.createElement(k.a,{className:"card"},r.a.createElement(u.a,{variant:"h4",gutterBottom:!0},"Progress Tracker"),(null===t||void 0===t?void 0:t.progressLogs.length)>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{height:400,mb:4},r.a.createElement(O.a,{width:"100%",height:"100%"},r.a.createElement(j.a,{data:n},r.a.createElement(N.a,{strokeDasharray:"3 3"}),r.a.createElement(T.a,{dataKey:"date"}),r.a.createElement(R.a,{domain:[0,10]}),r.a.createElement(W.a,null),r.a.createElement($.a,null),r.a.createElement(F.a,{type:"monotone",dataKey:"initialAnxiety",stroke:"#8884d8",name:"Initial Anxiety",strokeWidth:2}),r.a.createElement(F.a,{type:"monotone",dataKey:"finalAnxiety",stroke:"#82ca9d",name:"Final Anxiety",strokeWidth:2})))),r.a.createElement(x.a,null,t.progressLogs.map((e,t)=>r.a.createElement(f.a,{key:t,divider:!0},r.a.createElement(b.a,{primary:`${e.categoryName}: ${e.exposureDescription}`,secondary:`Date: ${a(e.date)}, Duration: ${Math.floor(e.duration/60)}:${(e.duration%60).toString().padStart(2,"0")}, Initial Anxiety: ${e.initialAnxiety}, Final Anxiety: ${e.finalAnxiety}`})))),r.a.createElement(k.a,{mt:4},r.a.createElement(J,{erpPlan:t}))):r.a.createElement(u.a,null,"No progress logs yet. Complete some exposures to see your progress!"))},H=a(686),K=a(666),_=a(687),q=a(688),z=a(689);var V=function(e){let{erpPlan:t,saveErpPlan:a}=e;const[i,o]=Object(n.useState)("09:00"),[l,s]=Object(n.useState)(!1),c=()=>{s(!1)};return r.a.createElement(k.a,null,r.a.createElement(u.a,{variant:"h4",gutterBottom:!0},"Settings"),r.a.createElement(D.a,{label:"Daily Reminder Time",type:"time",value:i,onChange:e=>{o(e.target.value)},InputLabelProps:{shrink:!0},inputProps:{step:300},fullWidth:!0,margin:"normal"}),r.a.createElement(C.a,{variant:"contained",color:"primary",onClick:()=>{console.log("Reminder time saved:",i)},fullWidth:!0,style:{marginTop:"20px"}},"Save Settings"),r.a.createElement(C.a,{variant:"contained",color:"secondary",onClick:()=>{s(!0)},fullWidth:!0,style:{marginTop:"20px"}},"Reset All Progress"),r.a.createElement(H.a,{open:l,onClose:c,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(K.a,{id:"alert-dialog-title"},"Reset Progress?"),r.a.createElement(_.a,null,r.a.createElement(q.a,{id:"alert-dialog-description"},"Are you sure you want to reset all progress? This action cannot be undone.")),r.a.createElement(z.a,null,r.a.createElement(C.a,{onClick:c,color:"primary"},"Cancel"),r.a.createElement(C.a,{onClick:()=>{const e={...t,progressLogs:[]};a(e),s(!1)},color:"secondary",autoFocus:!0},"Confirm Reset"))))};const G={categories:[{name:"Door Locking (Checking OCD)",exposures:[{description:"Leave a room without checking the door",anxietyLevel:"low"},{description:"Lock the door once and walk away immediately",anxietyLevel:"moderate"},{description:"Lock the door and don't check it for increasing periods of time",anxietyLevel:"high"},{description:"Go to sleep without checking doors",anxietyLevel:"very high"}]},{name:"Studying Perfectionism",exposures:[{description:"Study for 30 minutes using a non-optimal method",anxietyLevel:"low"},{description:"Submit an assignment without triple-checking it",anxietyLevel:"moderate"},{description:"Attend a class without pre-reading the material",anxietyLevel:"high"},{description:"Take a test without over-preparing",anxietyLevel:"very high"}]},{name:"Moral Judgments and Reactions to Disagreement",exposures:[{description:"Read an opinion piece that slightly disagrees with your views",anxietyLevel:"low"},{description:"Have a conversation with someone whose values differ from yours on a minor issue",anxietyLevel:"moderate"},{description:"Engage in a discussion about a topic where you have strong opinions, allowing others to disagree",anxietyLevel:"high"},{description:"Attend a debate or forum where views opposite to yours are presented",anxietyLevel:"very high"},{description:"Write out arguments supporting a view you strongly disagree with",anxietyLevel:"very high"}]},{name:"Retroactive Jealousy",exposures:[{description:"Look at a photo of your girlfriend with male friends",anxietyLevel:"low"},{description:"Discuss a neutral topic about your girlfriend's past",anxietyLevel:"moderate"},{description:"Have your girlfriend tell you about a past flirtatious interaction",anxietyLevel:"high"},{description:"Imagine your girlfriend in a romantic situation with a past partner",anxietyLevel:"very high"}]},{name:"Compulsion for Constant Productivity",exposures:[{description:"Sit quietly for 5 minutes without engaging in any productive activity",anxietyLevel:"low"},{description:"Take a 15-minute break between study sessions without researching or being productive",anxietyLevel:"moderate"},{description:"Spend an hour engaging in a purely leisurely activity with no educational value",anxietyLevel:"high"},{description:"Take a full day off from studying or researching, focusing on relaxation or non-productive activities",anxietyLevel:"very high"}]}],progressLogs:[]},Q=Object(d.a)({palette:{primary:{main:"#3f51b5"},secondary:{main:"#f50057"},background:{default:"#f5f5f5"}}});var U=function(){const[e,t]=Object(n.useState)(null),[a,i]=Object(n.useState)(!0);Object(n.useEffect)(()=>{const e=localStorage.getItem("erpPlan");t(e?JSON.parse(e):G),i(!1)},[]);const o=e=>{t(e),localStorage.setItem("erpPlan",JSON.stringify(e))};return a?r.a.createElement("div",null,"Loading..."):r.a.createElement(g.a,{theme:Q},r.a.createElement(y.a,null),r.a.createElement(l.a,null,r.a.createElement(c.a,{position:"static"},r.a.createElement(m.a,null,r.a.createElement(u.a,{variant:"h6"},"OCD ERP Plan"),r.a.createElement("nav",null,r.a.createElement(l.b,{to:"/",style:{color:"white",marginLeft:20}},"Hierarchy"),r.a.createElement(l.b,{to:"/progress",style:{color:"white",marginLeft:20}},"Progress"),r.a.createElement(l.b,{to:"/settings",style:{color:"white",marginLeft:20}},"Settings")))),r.a.createElement(p.a,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/",element:r.a.createElement(S,{erpPlan:e})}),r.a.createElement(s.a,{path:"/session/:categoryId/:exposureId",element:r.a.createElement(I,{erpPlan:e,saveErpPlan:o})}),r.a.createElement(s.a,{path:"/progress",element:r.a.createElement(M,{erpPlan:e})}),r.a.createElement(s.a,{path:"/settings",element:r.a.createElement(V,{erpPlan:e,saveErpPlan:o})})))))};var X=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,692)).then(t=>{let{getCLS:a,getFID:n,getFCP:r,getLCP:i,getTTFB:o}=t;a(e),n(e),r(e),i(e),o(e)})};o.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(U,null))),X()}},[[369,1,2]]]);
//# sourceMappingURL=main.55f4a599.chunk.js.map